# æ•°å­—äººç”Ÿæˆç³»ç»Ÿ - å‰ç«¯åŸå‹è®¾è®¡

> **ç‰ˆæœ¬**: v1.0
> **æ—¥æœŸ**: 2025-12-30
> **ä»»åŠ¡**: task-2/60
> **çŠ¶æ€**: è®¾è®¡æ–¹æ¡ˆ

---

## ä¸€ã€äº¤äº’æµç¨‹æ€»è§ˆ

```
ç”¨æˆ·è¿›å…¥é¡µé¢
    â†“
å¡«å†™è¡¨å•ï¼ˆå¤´åƒ + æ–‡æœ¬ + è¯­éŸ³å‚æ•°ï¼‰
    â†“
ç‚¹å‡»"ç”Ÿæˆæ•°å­—äººè§†é¢‘"
    â†“
å‰ç«¯è°ƒç”¨ POST /api/tasks â†’ è·å¾— job_id
    â†“
æ˜¾ç¤ºè¿›åº¦æ¡ï¼Œå¼€å§‹è½®è¯¢ GET /api/tasks/{job_id}
    â†“
å®æ—¶æ›´æ–°ä¸‰é˜¶æ®µçŠ¶æ€å›¾æ ‡ï¼ˆå¤´åƒ â†’ è¯­éŸ³ â†’ è§†é¢‘ï¼‰
    â†“
å®Œæˆåæ˜¾ç¤ºè§†é¢‘æ’­æ”¾å™¨ + æˆæœ¬ä¿¡æ¯
```

---

## äºŒã€é¡µé¢å¸ƒå±€è®¾è®¡

### 2.1 æ•´ä½“å¸ƒå±€

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ¬ æ•°å­—äººç©ºé—´                                        â”‚
â”‚  ç”¨ AI ç”Ÿæˆä¸“ä¸šçš„æ•°å­—äººæ’­æŠ¥è§†é¢‘                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                 â”‚    â”‚                      â”‚  â”‚
â”‚  â”‚   è¡¨å•åŒºåŸŸ       â”‚    â”‚   é¢„è§ˆ/è¿›åº¦åŒºåŸŸ       â”‚  â”‚
â”‚  â”‚                 â”‚    â”‚                      â”‚  â”‚
â”‚  â”‚  (å·¦ä¾§ 42%)     â”‚    â”‚   (å³ä¾§ 58%)         â”‚  â”‚
â”‚  â”‚                 â”‚    â”‚                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 å·¦ä¾§è¡¨å•åŒºåŸŸï¼ˆä»»åŠ¡åˆ›å»ºï¼‰

```html
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“ åˆ›å»ºä»»åŠ¡                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  ã€å¤´åƒæ¨¡å¼ã€‘                        â”‚
â”‚  â—‹ Prompt ç”Ÿæˆ  â— ä¸Šä¼ å›¾ç‰‡           â”‚
â”‚                                    â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ å¤´åƒæè¿°æç¤ºè¯                  â”‚ â”‚
â”‚  â”‚ ä¾‹å¦‚: ä¸€ä½ä¸“ä¸šçš„å¥³æ€§æ’­éŸ³å‘˜ï¼Œ...   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”‚  æˆ–                                 â”‚
â”‚                                    â”‚
â”‚  [é€‰æ‹©æ–‡ä»¶] avatar.png              â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ã€æ’­æŠ¥å†…å®¹ã€‘                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚ è¯·è¾“å…¥æ•°å­—äººè¦æ’­æŠ¥çš„å†…å®¹...      â”‚ â”‚
â”‚  â”‚                              â”‚ â”‚
â”‚  â”‚ (æœ€å¤š 1000 å­—)                â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ã€éŸ³è‰²é€‰æ‹©ã€‘                        â”‚
â”‚  â–¼ å¥³å£°-å°‘å¥³ â–¼                      â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  ã€é«˜çº§é€‰é¡¹ã€‘â–¼                       â”‚
â”‚                                    â”‚
â”‚  åˆ†è¾¨ç‡: â–¼ 720p ($0.06/ç§’)          â”‚
â”‚  è¯­é€Ÿ:   â”â”â—â”â”â” 1.0                â”‚
â”‚  éŸ³è°ƒ:   â”â”â—â”â”â” 0                  â”‚
â”‚  æƒ…ç»ª:   â–¼ ä¸­æ€§                     â”‚
â”‚                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                    â”‚
â”‚  [ ç”Ÿæˆæ•°å­—äººè§†é¢‘ ]                  â”‚
â”‚                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.3 å³ä¾§é¢„è§ˆ/è¿›åº¦åŒºåŸŸ

#### åˆå§‹çŠ¶æ€ï¼ˆæœªæäº¤ä»»åŠ¡ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ’¡ ä½¿ç”¨æç¤º                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚  1. é€‰æ‹©å¤´åƒæ¨¡å¼                    â”‚
â”‚     â€¢ Prompt: AI ç”Ÿæˆæ•°å­—äººå½¢è±¡     â”‚
â”‚     â€¢ ä¸Šä¼ : ä½¿ç”¨æ‚¨è‡ªå·±çš„ç…§ç‰‡         â”‚
â”‚                                   â”‚
â”‚  2. è¾“å…¥æ’­æŠ¥æ–‡æœ¬                    â”‚
â”‚     â€¢ æ”¯æŒä¸­è‹±æ–‡æ··åˆ                â”‚
â”‚     â€¢ å»ºè®® 10-60 ç§’ï¼ˆçº¦ 150 å­—ï¼‰    â”‚
â”‚                                   â”‚
â”‚  3. è°ƒæ•´è¯­éŸ³å‚æ•°                    â”‚
â”‚     â€¢ é€‰æ‹©åˆé€‚çš„éŸ³è‰²                â”‚
â”‚     â€¢ æ ¹æ®å†…å®¹è°ƒæ•´è¯­é€Ÿå’Œæƒ…ç»ª          â”‚
â”‚                                   â”‚
â”‚  4. é¢„ä¼°æˆæœ¬                        â”‚
â”‚     â€¢ 10ç§’è§†é¢‘: ~$0.60             â”‚
â”‚     â€¢ 60ç§’è§†é¢‘: ~$3.64             â”‚
â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### ç”Ÿæˆä¸­çŠ¶æ€ï¼ˆè½®è¯¢ä¸­ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âš™ï¸  æ­£åœ¨ç”Ÿæˆæ•°å­—äººè§†é¢‘...          â”‚
â”‚  ä»»åŠ¡ID: aka-12301230              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚  ã€é˜¶æ®µè¿›åº¦ã€‘                       â”‚
â”‚                                   â”‚
â”‚  âœ… å¤´åƒç”Ÿæˆ (å·²å®Œæˆ)               â”‚
â”‚      â””â”€ ç”¨æ—¶: 8 ç§’                 â”‚
â”‚                                   â”‚
â”‚  âš™ï¸  è¯­éŸ³ç”Ÿæˆ (è¿›è¡Œä¸­)              â”‚
â”‚      â””â”€ é¢„è®¡: 15 ç§’                â”‚
â”‚                                   â”‚
â”‚  â³ å”‡åŒæ­¥è§†é¢‘ (ç­‰å¾…ä¸­)             â”‚
â”‚      â””â”€ é¢„è®¡: 5-10 åˆ†é’Ÿ            â”‚
â”‚                                   â”‚
â”‚  â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€         â”‚
â”‚  â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘â–‘  40%         â”‚
â”‚                                   â”‚
â”‚  â±ï¸  å·²ç”¨æ—¶é—´: 00:23               â”‚
â”‚  ğŸ’° å·²èŠ±è´¹: $0.05                  â”‚
â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

#### å®ŒæˆçŠ¶æ€ï¼ˆæ’­æ”¾å™¨ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  âœ… ç”Ÿæˆå®Œæˆï¼                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                   â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                             â”‚ â”‚
â”‚  â”‚    â–¶ï¸  æ•°å­—äººè§†é¢‘æ’­æ”¾å™¨       â”‚ â”‚
â”‚  â”‚                             â”‚ â”‚
â”‚  â”‚  â”â”â”â”â”â”â”â”â”â—â”â”â”â”  00:45/01:00â”‚ â”‚
â”‚  â”‚                             â”‚ â”‚
â”‚  â”‚  [â–¶ï¸] [ğŸ”Š] [âš™ï¸] [â¬‡ï¸]          â”‚ â”‚
â”‚  â”‚                             â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                   â”‚
â”‚  ã€ä»»åŠ¡ä¿¡æ¯ã€‘                       â”‚
â”‚  â€¢ ä»»åŠ¡ID: aka-12301230            â”‚
â”‚  â€¢ æ—¶é•¿: 60 ç§’                     â”‚
â”‚  â€¢ åˆ†è¾¨ç‡: 720p                    â”‚
â”‚  â€¢ æ€»æˆæœ¬: $3.64                   â”‚
â”‚  â€¢ å®Œæˆæ—¶é—´: 2025-12-30 14:23     â”‚
â”‚                                   â”‚
â”‚  ã€èµ„æºé“¾æ¥ã€‘                       â”‚
â”‚  ğŸ–¼ï¸ [æŸ¥çœ‹å¤´åƒ]                     â”‚
â”‚  ğŸ™ï¸ [ä¸‹è½½éŸ³é¢‘]                     â”‚
â”‚  ğŸ¬ [ä¸‹è½½è§†é¢‘]                     â”‚
â”‚                                   â”‚
â”‚  [ ç”Ÿæˆæ–°è§†é¢‘ ]                    â”‚
â”‚                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ä¸‰ã€è¡¨å•å­—æ®µè¯¦ç»†è®¾è®¡

### 3.1 å¤´åƒæ¨¡å¼é€‰æ‹©

| å­—æ®µ | ç±»å‹ | é€‰é¡¹ | éªŒè¯è§„åˆ™ |
|------|------|------|---------|
| `avatar_mode` | radio | `prompt` / `upload` | å¿…é€‰ |

**äº¤äº’è¡Œä¸º**:
- é€‰æ‹© `prompt` æ—¶ï¼Œæ˜¾ç¤ºæ–‡æœ¬è¾“å…¥æ¡†
- é€‰æ‹© `upload` æ—¶ï¼Œæ˜¾ç¤ºæ–‡ä»¶ä¸Šä¼ ç»„ä»¶
- ä¸¤è€…äº’æ–¥ï¼ŒåŠ¨æ€åˆ‡æ¢

---

### 3.2 Prompt æ¨¡å¼å­—æ®µ

| å­—æ®µ | ç±»å‹ | ç¤ºä¾‹ | éªŒè¯è§„åˆ™ |
|------|------|------|---------|
| `avatar_prompt` | textarea | "ä¸€ä½ä¸“ä¸šçš„å¥³æ€§æ’­éŸ³å‘˜ï¼Œ25å²ï¼Œå¾®ç¬‘ï¼Œæ­£é¢ç…§ï¼Œç™½è‰²è¡¬è¡«" | éç©ºï¼Œ10-500å­— |

**é¢„è®¾æç¤ºè¯ï¼ˆå¯é€‰ï¼‰**:
```javascript
const promptPresets = [
  "ä¸“ä¸šå¥³æ€§ä¸»æ’­ï¼Œ25å²ï¼ŒèŒä¸šè£…ï¼Œå¾®ç¬‘ï¼Œé«˜æ¸…è‚–åƒ",
  "å¹´è½»ç”·æ€§æ’­éŸ³å‘˜ï¼Œ30å²ï¼Œè¥¿è£…ï¼Œè‡ªä¿¡è¡¨æƒ…ï¼Œæ­£é¢ç…§",
  "ç§‘æŠ€æ„Ÿå¥³æ€§AIï¼Œè“è‰²å…‰æ•ˆï¼Œæœªæ¥é£æ ¼",
  "äº²å’ŒåŠ›ç”·æ€§è®²å¸ˆï¼Œ35å²ï¼Œä¼‘é—²è£…ï¼Œæ¸©å’Œè¡¨æƒ…"
];
```

---

### 3.3 ä¸Šä¼ æ¨¡å¼å­—æ®µ

| å­—æ®µ | ç±»å‹ | éªŒè¯è§„åˆ™ |
|------|------|---------|
| `avatar_upload` | file | PNG/JPGï¼Œâ‰¤5MBï¼Œå»ºè®® 1024x1024 |

**äº¤äº’è¡Œä¸º**:
1. ç”¨æˆ·é€‰æ‹©æ–‡ä»¶
2. å‰ç«¯é¢„è§ˆå›¾ç‰‡ï¼ˆç¼©ç•¥å›¾ï¼‰
3. ç‚¹å‡»ç”Ÿæˆæ—¶ï¼Œå…ˆè°ƒç”¨ `POST /api/assets/upload`
4. è·å¾— `avatar_upload_url` åï¼Œä¼ ç»™ `POST /api/tasks`

**ä¸Šä¼ æµç¨‹**:
```
ç”¨æˆ·é€‰æ‹©æ–‡ä»¶
    â†“
å‰ç«¯éªŒè¯ï¼ˆæ ¼å¼ã€å¤§å°ï¼‰
    â†“
POST /api/assets/upload
    â†“
è¿”å› {"url": "https://s.linapp.fun/..."}
    â†“
ä¿å­˜ URLï¼Œæ˜¾ç¤º"âœ… å·²ä¸Šä¼ "
```

---

### 3.4 æ’­æŠ¥å†…å®¹å­—æ®µ

| å­—æ®µ | ç±»å‹ | éªŒè¯è§„åˆ™ |
|------|------|---------|
| `speech_text` | textarea | éç©ºï¼Œ5-1000å­— |

**è¾…åŠ©åŠŸèƒ½**:
- å®æ—¶å­—ç¬¦è®¡æ•°
- é¢„ä¼°æ—¶é•¿ï¼ˆæŒ‰ 150 å­—/åˆ†é’Ÿè®¡ç®—ï¼‰
- æˆæœ¬é¢„ä¼°ï¼ˆæ ¹æ®æ—¶é•¿ï¼‰

**ç¤ºä¾‹æ–‡æœ¬ï¼ˆå¯é€‰ï¼‰**:
```
"å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯æ‚¨çš„AIæ’­æŠ¥å‘˜ã€‚ä»Šå¤©ä¸ºå¤§å®¶å¸¦æ¥æœ€æ–°çš„ç§‘æŠ€èµ„è®¯..."
```

---

### 3.5 éŸ³è‰²é€‰æ‹©

| å­—æ®µ | ç±»å‹ | å¯é€‰å€¼ | é»˜è®¤å€¼ |
|------|------|--------|--------|
| `voice_id` | select | è§ä¸‹è¡¨ | `female-shaonv` |

**éŸ³è‰²åˆ—è¡¨**ï¼ˆåŸºäº doc/æ•°å­—äºº.mdï¼‰:

| voice_id | æ˜¾ç¤ºåç§° | æ€§åˆ« | ç‰¹ç‚¹ |
|----------|---------|------|------|
| `female-shaonv` | å¥³å£°-å°‘å¥³ | å¥³ | å¹´è½»ã€æ´»æ³¼ |
| `female-yujie` | å¥³å£°-å¾¡å§ | å¥³ | æˆç†Ÿã€ä¸“ä¸š |
| `male-qn-qingse` | ç”·å£°-é’æ¶© | ç”· | å¹´è½»ã€æ¸…æ–° |
| `male-qn-jingying` | ç”·å£°-ç²¾è‹± | ç”· | æˆç†Ÿã€ç¨³é‡ |

**å¯æ‰©å±•**:
- æ·»åŠ è¯•å¬æŒ‰é’®ï¼ˆæ’­æ”¾ç¤ºä¾‹éŸ³é¢‘ï¼‰
- æ ¹æ®å¤´åƒæç¤ºè¯æ™ºèƒ½æ¨èéŸ³è‰²

---

### 3.6 é«˜çº§é€‰é¡¹ï¼ˆæŠ˜å é¢æ¿ï¼‰

| å­—æ®µ | ç±»å‹ | èŒƒå›´ | é»˜è®¤å€¼ | è¯´æ˜ |
|------|------|------|--------|------|
| `resolution` | select | `720p` / `1080p` | `720p` | 720p=$0.06/ç§’, 1080p=$0.12/ç§’ |
| `speed` | range | 0.5 - 2.0 | 1.0 | è¯­é€Ÿå€ç‡ |
| `pitch` | range | -12 ~ 12 | 0 | éŸ³è°ƒåç§»ï¼ˆåŠéŸ³ï¼‰ |
| `emotion` | select | `neutral` / `happy` / `sad` / `angry` | `neutral` | æƒ…ç»ªé£æ ¼ |
| `seed` | number | ä»»æ„æ•´æ•° | 42 | éšæœºç§å­ï¼ˆå¯é‡å¤ç”Ÿæˆï¼‰ |

**äº¤äº’ç»†èŠ‚**:
- `speed` å’Œ `pitch` ä½¿ç”¨æ»‘å—ï¼Œå®æ—¶æ˜¾ç¤ºæ•°å€¼
- `resolution` æ˜¾ç¤ºæˆæœ¬å·®å¼‚
- `seed` é»˜è®¤éšè—ï¼Œä»…é«˜çº§ç”¨æˆ·ä½¿ç”¨

---

## å››ã€API è°ƒç”¨æµç¨‹

### 4.1 åˆ›å»ºä»»åŠ¡

**è¯·æ±‚**:
```http
POST /api/tasks
Content-Type: application/json

{
  "avatar_mode": "prompt",
  "avatar_prompt": "ä¸“ä¸šå¥³æ€§ä¸»æ’­ï¼Œ25å²ï¼ŒèŒä¸šè£…",
  "speech_text": "å¤§å®¶å¥½ï¼Œæ¬¢è¿æ”¶çœ‹ä»Šå¤©çš„èŠ‚ç›®...",
  "voice_id": "female-shaonv",
  "resolution": "720p",
  "speed": 1.0,
  "pitch": 0,
  "emotion": "neutral",
  "seed": 42
}
```

**å“åº”**:
```json
{
  "job_id": "aka-12301230",
  "status": "pending",
  "message": "ä»»åŠ¡å·²åˆ›å»ºï¼Œå¼€å§‹ç”Ÿæˆæ•°å­—äººè§†é¢‘..."
}
```

**å‰ç«¯å¤„ç†**:
1. ç¦ç”¨è¡¨å•ï¼Œé˜²æ­¢é‡å¤æäº¤
2. æ˜¾ç¤ºè¿›åº¦åŒºåŸŸ
3. ä¿å­˜ `job_id`
4. å¼€å§‹è½®è¯¢

---

### 4.2 è½®è¯¢ä»»åŠ¡çŠ¶æ€

**è¯·æ±‚**:
```http
GET /api/tasks/aka-12301230
```

**å“åº”ç¤ºä¾‹**ï¼ˆä¸åŒé˜¶æ®µï¼‰:

#### å¤´åƒç”Ÿæˆä¸­
```json
{
  "job_id": "aka-12301230",
  "status": "avatar_generating",
  "message": "æ­£åœ¨ç”Ÿæˆå¤´åƒ...",
  "avatar_url": null,
  "audio_url": null,
  "video_url": null,
  "cost": null
}
```

#### å¤´åƒå®Œæˆï¼Œè¯­éŸ³ç”Ÿæˆä¸­
```json
{
  "job_id": "aka-12301230",
  "status": "speech_generating",
  "message": "âœ… å¤´åƒç”Ÿæˆå®Œæˆï¼Œæ­£åœ¨ç”Ÿæˆè¯­éŸ³...",
  "avatar_url": "https://...",
  "audio_url": null,
  "video_url": null,
  "cost": 0.03
}
```

#### è¯­éŸ³å®Œæˆï¼Œè§†é¢‘æ¸²æŸ“ä¸­
```json
{
  "job_id": "aka-12301230",
  "status": "video_rendering",
  "message": "âœ… è¯­éŸ³ç”Ÿæˆå®Œæˆï¼Œæ­£åœ¨ç”Ÿæˆæ•°å­—äººè§†é¢‘ï¼ˆçº¦éœ€ 5-10 åˆ†é’Ÿï¼‰...",
  "avatar_url": "https://...",
  "audio_url": "https://...",
  "video_url": null,
  "cost": 0.05
}
```

#### å…¨éƒ¨å®Œæˆ
```json
{
  "job_id": "aka-12301230",
  "status": "finished",
  "message": "âœ… æ•°å­—äººè§†é¢‘ç”Ÿæˆå®Œæˆï¼",
  "avatar_url": "https://...",
  "audio_url": "https://...",
  "video_url": "https://.../digital_human.mp4",
  "cost": 3.64
}
```

#### å¤±è´¥
```json
{
  "job_id": "aka-12301230",
  "status": "failed",
  "message": "âŒ ç”Ÿæˆå¤±è´¥: API è°ƒç”¨è¶…æ—¶",
  "avatar_url": "https://...",
  "audio_url": null,
  "video_url": null,
  "cost": 0.03
}
```

**å‰ç«¯è½®è¯¢é€»è¾‘**:
```javascript
async function pollTaskStatus(jobId) {
  const interval = setInterval(async () => {
    try {
      const response = await fetch(`/api/tasks/${jobId}`);
      const task = await response.json();

      // æ›´æ–°UIçŠ¶æ€
      updateProgressUI(task);

      // ç»ˆæ­¢æ¡ä»¶
      if (task.status === 'finished') {
        clearInterval(interval);
        showVideoPlayer(task.video_url, task);
      } else if (task.status === 'failed') {
        clearInterval(interval);
        showError(task.message);
      }
    } catch (error) {
      console.error('è½®è¯¢å¤±è´¥:', error);
      // å¯é€‰ï¼šè¿ç»­å¤±è´¥ 3 æ¬¡ååœæ­¢è½®è¯¢
    }
  }, 2000);  // æ¯ 2 ç§’è½®è¯¢ä¸€æ¬¡
}
```

---

## äº”ã€è¿›åº¦æ˜¾ç¤ºè®¾è®¡

### 5.1 ä¸‰é˜¶æ®µçŠ¶æ€å›¾æ ‡

| çŠ¶æ€ | å›¾æ ‡ | è¯´æ˜ |
|------|------|------|
| `pending` | â³ | ç­‰å¾…å¼€å§‹ |
| `in-progress` | âš™ï¸ | è¿›è¡Œä¸­ï¼ˆåŠ¨ç”»æ—‹è½¬ï¼‰ |
| `completed` | âœ… | å·²å®Œæˆ |
| `failed` | âŒ | å¤±è´¥ |

### 5.2 çŠ¶æ€æ˜ å°„

```javascript
function getStageStatus(taskStatus) {
  const stages = {
    avatar: 'pending',
    speech: 'pending',
    video: 'pending'
  };

  if (taskStatus.includes('avatar')) {
    stages.avatar = 'in-progress';
  } else if (taskStatus === 'speech_generating' ||
             taskStatus === 'video_rendering' ||
             taskStatus === 'finished') {
    stages.avatar = 'completed';
  }

  if (taskStatus.includes('speech')) {
    stages.speech = 'in-progress';
  } else if (taskStatus === 'video_rendering' ||
             taskStatus === 'finished') {
    stages.speech = 'completed';
  }

  if (taskStatus.includes('video')) {
    stages.video = 'in-progress';
  } else if (taskStatus === 'finished') {
    stages.video = 'completed';
  }

  return stages;
}
```

### 5.3 è¿›åº¦æ¡è®¡ç®—

```javascript
function calculateProgress(taskStatus) {
  const progressMap = {
    'pending': 0,
    'avatar_generating': 10,
    'avatar_ready': 30,
    'speech_generating': 40,
    'speech_ready': 60,
    'video_rendering': 70,
    'finished': 100,
    'failed': -1
  };

  return progressMap[taskStatus] || 0;
}
```

---

## å…­ã€è§†é¢‘æ’­æ”¾å™¨è®¾è®¡

### 6.1 æ ¸å¿ƒåŠŸèƒ½

```html
<video id="videoPlayer"
       controls
       preload="metadata"
       width="100%"
       style="max-width: 720px; border-radius: 8px;">
  <source src="{video_url}" type="video/mp4">
  æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒè§†é¢‘æ’­æ”¾
</video>
```

### 6.2 æ’­æ”¾å™¨æ§åˆ¶æ 

| æŒ‰é’® | åŠŸèƒ½ | è¯´æ˜ |
|------|------|------|
| â–¶ï¸ / â¸ï¸ | æ’­æ”¾/æš‚åœ | åŸºç¡€æ§åˆ¶ |
| ğŸ”Š / ğŸ”‡ | éŸ³é‡æ§åˆ¶ | 0-100% |
| âš™ï¸ | è®¾ç½® | æ’­æ”¾é€Ÿåº¦ï¼ˆ0.5x, 1x, 1.5x, 2xï¼‰ |
| â¬‡ï¸ | ä¸‹è½½ | ä¸‹è½½è§†é¢‘åˆ°æœ¬åœ° |
| ğŸ”„ | å¾ªç¯æ’­æ”¾ | å¯é€‰ |

### 6.3 ä¸‹è½½åŠŸèƒ½

```javascript
function downloadVideo(videoUrl, filename) {
  const a = document.createElement('a');
  a.href = videoUrl;
  a.download = filename || 'digital_human.mp4';
  a.click();
}
```

---

## ä¸ƒã€é”™è¯¯å¤„ç†

### 7.1 å®¢æˆ·ç«¯éªŒè¯é”™è¯¯

| åœºæ™¯ | é”™è¯¯æ¶ˆæ¯ | å¤„ç† |
|------|---------|------|
| å¤´åƒ Prompt ä¸ºç©º | "è¯·è¾“å…¥å¤´åƒæè¿°" | è¡¨å•ä¸‹æ–¹çº¢è‰²æç¤º |
| æ’­æŠ¥æ–‡æœ¬ä¸ºç©º | "è¯·è¾“å…¥æ’­æŠ¥å†…å®¹" | è¡¨å•ä¸‹æ–¹çº¢è‰²æç¤º |
| æ–‡æœ¬è¶…é•¿ | "æ–‡æœ¬ä¸èƒ½è¶…è¿‡ 1000 å­—" | è¡¨å•ä¸‹æ–¹çº¢è‰²æç¤º |
| ä¸Šä¼ æ–‡ä»¶è¿‡å¤§ | "å›¾ç‰‡ä¸èƒ½è¶…è¿‡ 5MB" | å¼¹çª—æç¤º |
| æ–‡ä»¶æ ¼å¼é”™è¯¯ | "ä»…æ”¯æŒ PNG/JPG æ ¼å¼" | å¼¹çª—æç¤º |

### 7.2 æœåŠ¡ç«¯é”™è¯¯

| HTTP çŠ¶æ€ç  | åœºæ™¯ | å‰ç«¯å¤„ç† |
|------------|------|---------|
| 400 | å‚æ•°éªŒè¯å¤±è´¥ | æ˜¾ç¤ºå…·ä½“é”™è¯¯æ¶ˆæ¯ |
| 401 | è®¤è¯å¤±è´¥ | "API å¯†é’¥æ— æ•ˆï¼Œè¯·è”ç³»ç®¡ç†å‘˜" |
| 429 | è¯·æ±‚è¿‡äºé¢‘ç¹ | "è¯·æ±‚è¿‡äºé¢‘ç¹ï¼Œè¯·ç¨åé‡è¯•" |
| 500 | æœåŠ¡å™¨é”™è¯¯ | "æœåŠ¡å™¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•" |
| 503 | æœåŠ¡ä¸å¯ç”¨ | "æœåŠ¡æš‚æ—¶ä¸å¯ç”¨ï¼Œè¯·ç¨åé‡è¯•" |

### 7.3 è½®è¯¢è¶…æ—¶

```javascript
const MAX_POLL_TIME = 15 * 60 * 1000;  // 15 åˆ†é’Ÿ
const startTime = Date.now();

async function pollWithTimeout(jobId) {
  const interval = setInterval(async () => {
    if (Date.now() - startTime > MAX_POLL_TIME) {
      clearInterval(interval);
      showError('ç”Ÿæˆè¶…æ—¶ï¼Œè¯·åˆ·æ–°é¡µé¢æŸ¥çœ‹ä»»åŠ¡çŠ¶æ€');
      return;
    }

    // ... æ­£å¸¸è½®è¯¢é€»è¾‘
  }, 2000);
}
```

---

## å…«ã€æˆæœ¬ä¼°ç®—æ˜¾ç¤º

### 8.1 å®æ—¶æˆæœ¬é¢„ä¼°ï¼ˆè¡¨å•å¡«å†™æ—¶ï¼‰

```javascript
function estimateCost(speechText, resolution) {
  // æŒ‰ 150 å­—/åˆ†é’Ÿä¼°ç®—æ—¶é•¿
  const duration = (speechText.length / 150) * 60;  // ç§’

  const costs = {
    avatar: 0.03,  // Seedream å¤´åƒ
    tts: (duration / 60) * 0.02,  // MiniMax TTS
    video: duration * (resolution === '1080p' ? 0.12 : 0.06)  // Infinitetalk
  };

  const total = costs.avatar + costs.tts + costs.video;

  return {
    duration,
    total,
    breakdown: costs
  };
}

// æ˜¾ç¤ºç¤ºä¾‹
// è¾“å…¥ 150 å­—ï¼Œ720p
// â†’ é¢„è®¡æ—¶é•¿: 60 ç§’
// â†’ é¢„è®¡æˆæœ¬: $3.64
//    - å¤´åƒ: $0.03
//    - è¯­éŸ³: $0.02
//    - è§†é¢‘: $3.60
```

### 8.2 å®Œæˆåæˆæœ¬æ˜¾ç¤º

```html
<div class="cost-summary">
  <h3>ğŸ’° ä»»åŠ¡æˆæœ¬</h3>
  <div class="cost-item">
    <span>å¤´åƒç”Ÿæˆ (Seedream v4)</span>
    <span>$0.03</span>
  </div>
  <div class="cost-item">
    <span>è¯­éŸ³ç”Ÿæˆ (MiniMax TTS)</span>
    <span>$0.02</span>
  </div>
  <div class="cost-item">
    <span>å”‡åŒæ­¥è§†é¢‘ (Infinitetalk 720p)</span>
    <span>$3.60</span>
  </div>
  <hr>
  <div class="cost-total">
    <span>æ€»è®¡</span>
    <span>$3.65</span>
  </div>
</div>
```

---

## ä¹ã€å“åº”å¼è®¾è®¡

### 9.1 æ¡Œé¢ç«¯ï¼ˆâ‰¥1024pxï¼‰

- åŒåˆ—å¸ƒå±€ï¼ˆ42% + 58%ï¼‰
- è¡¨å•å’Œè¿›åº¦å¹¶æ’æ˜¾ç¤º
- è§†é¢‘æ’­æ”¾å™¨æœ€å¤§å®½åº¦ 720px

### 9.2 å¹³æ¿ç«¯ï¼ˆ768px - 1023pxï¼‰

- å•åˆ—å¸ƒå±€
- è¡¨å•åœ¨ä¸Šï¼Œè¿›åº¦åœ¨ä¸‹
- è§†é¢‘æ’­æ”¾å™¨ 100% å®½åº¦

### 9.3 ç§»åŠ¨ç«¯ï¼ˆ<768pxï¼‰

- å•åˆ—å¸ƒå±€
- é«˜çº§é€‰é¡¹é»˜è®¤æ”¶èµ·
- ç®€åŒ–è¿›åº¦æ˜¾ç¤ºï¼ˆä»…æ˜¾ç¤ºå½“å‰é˜¶æ®µï¼‰
- è§†é¢‘æ’­æ”¾å™¨è‡ªé€‚åº”

---

## åã€ç”¨æˆ·ä½“éªŒä¼˜åŒ–

### 10.1 Loading åŠ¨ç”»

- ä½¿ç”¨ CSS æ—‹è½¬åŠ¨ç”»ï¼ˆâš™ï¸ å›¾æ ‡ï¼‰
- è¿›åº¦æ¡å¹³æ»‘è¿‡æ¸¡
- é˜¶æ®µåˆ‡æ¢æ—¶é—ªçƒæç¤º

### 10.2 æˆåŠŸåé¦ˆ

- å®Œæˆæ—¶æ’­æ”¾æç¤ºéŸ³ï¼ˆå¯é€‰ï¼‰
- æ˜¾ç¤ºç¥è´ºåŠ¨ç”»ï¼ˆå¯é€‰ï¼‰
- è‡ªåŠ¨æ»šåŠ¨åˆ°æ’­æ”¾å™¨

### 10.3 ä»»åŠ¡å†å²ï¼ˆå¯é€‰æ‰©å±•ï¼‰

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ğŸ“‹ æœ€è¿‘ä»»åŠ¡                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  aka-12301230  âœ… å®Œæˆ  60ç§’     â”‚
â”‚  aka-12291845  âš™ï¸  è¿›è¡Œä¸­        â”‚
â”‚  aka-12281234  âŒ å¤±è´¥          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 10.4 å¿«æ·æ“ä½œ

- "ä½¿ç”¨ä¸Šæ¬¡å‚æ•°"æŒ‰é’®ï¼ˆè¯»å– localStorageï¼‰
- "æ¸…ç©ºè¡¨å•"æŒ‰é’®
- "ç¤ºä¾‹æ–‡æœ¬"å¿«é€Ÿå¡«å……

---

## åä¸€ã€æŠ€æœ¯å®ç°è¦ç‚¹

### 11.1 å‰ç«¯æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç”¨é€” |
|------|------|
| åŸç”Ÿ HTML/CSS/JS | ä¿æŒè½»é‡ï¼Œæ— éœ€æ„å»º |
| Fetch API | HTTP è¯·æ±‚ |
| CSS Grid/Flexbox | å“åº”å¼å¸ƒå±€ |
| HTML5 Video | è§†é¢‘æ’­æ”¾ |

### 11.2 å…³é”® JavaScript æ¨¡å—

```javascript
// 1. API å®¢æˆ·ç«¯
class DigitalHumanAPI {
  async createTask(params) { ... }
  async getTaskStatus(jobId) { ... }
  async uploadAvatar(file) { ... }
}

// 2. è¡¨å•æ§åˆ¶å™¨
class FormController {
  validateForm() { ... }
  collectFormData() { ... }
  toggleAvatarMode() { ... }
}

// 3. è¿›åº¦æ§åˆ¶å™¨
class ProgressController {
  startPolling(jobId) { ... }
  updateStages(status) { ... }
  updateProgressBar(percent) { ... }
}

// 4. æ’­æ”¾å™¨æ§åˆ¶å™¨
class VideoPlayerController {
  loadVideo(url) { ... }
  downloadVideo(url) { ... }
}
```

### 11.3 çŠ¶æ€ç®¡ç†ï¼ˆç®€å•ç‰ˆï¼‰

```javascript
const appState = {
  currentTask: null,
  pollingInterval: null,
  formData: {},
  history: []  // å¯é€‰ï¼šå­˜å‚¨å†å²ä»»åŠ¡
};

// ä¿å­˜åˆ° localStorage
function saveState() {
  localStorage.setItem('dh_state', JSON.stringify(appState));
}

// æ¢å¤çŠ¶æ€
function restoreState() {
  const saved = localStorage.getItem('dh_state');
  return saved ? JSON.parse(saved) : null;
}
```

---

## åäºŒã€å¼€å‘ä¼˜å…ˆçº§

### Phase 1: MVPï¼ˆæœ€å°å¯è¡Œäº§å“ï¼‰

- [x] åŸºç¡€è¡¨å•ï¼ˆPrompt æ¨¡å¼ï¼‰
- [x] æ’­æŠ¥æ–‡æœ¬è¾“å…¥
- [x] éŸ³è‰²é€‰æ‹©ï¼ˆ4 ä¸ªåŸºç¡€éŸ³è‰²ï¼‰
- [x] æäº¤ä»»åŠ¡ API è°ƒç”¨
- [x] ç®€å•è½®è¯¢é€»è¾‘
- [x] ä¸‰é˜¶æ®µçŠ¶æ€æ˜¾ç¤º
- [x] è§†é¢‘æ’­æ”¾å™¨

### Phase 2: å®Œå–„åŠŸèƒ½

- [ ] ä¸Šä¼ å¤´åƒæ¨¡å¼
- [ ] é«˜çº§é€‰é¡¹ï¼ˆåˆ†è¾¨ç‡ã€è¯­é€Ÿã€éŸ³è°ƒã€æƒ…ç»ªï¼‰
- [ ] æˆæœ¬é¢„ä¼°
- [ ] é”™è¯¯å¤„ç†ä¼˜åŒ–
- [ ] Loading åŠ¨ç”»

### Phase 3: ä½“éªŒä¼˜åŒ–

- [ ] å“åº”å¼è®¾è®¡
- [ ] ä»»åŠ¡å†å²
- [ ] å¿«æ·æ“ä½œ
- [ ] éŸ³è‰²è¯•å¬
- [ ] æç¤ºè¯é¢„è®¾
- [ ] ä¸‹è½½åŠŸèƒ½

---

## åä¸‰ã€æµ‹è¯•æ£€æŸ¥æ¸…å•

### 13.1 åŠŸèƒ½æµ‹è¯•

- [ ] Prompt æ¨¡å¼å¯æ­£å¸¸åˆ›å»ºä»»åŠ¡
- [ ] ä¸Šä¼ æ¨¡å¼å¯æ­£å¸¸ä¸Šä¼ å¹¶åˆ›å»ºä»»åŠ¡
- [ ] è½®è¯¢å¯æ­£ç¡®æ›´æ–°çŠ¶æ€
- [ ] ä¸‰é˜¶æ®µå›¾æ ‡æ­£ç¡®åˆ‡æ¢
- [ ] å®Œæˆåå¯æ’­æ”¾è§†é¢‘
- [ ] å¤±è´¥æ—¶æ˜¾ç¤ºé”™è¯¯æ¶ˆæ¯
- [ ] æˆæœ¬æ˜¾ç¤ºå‡†ç¡®

### 13.2 å…¼å®¹æ€§æµ‹è¯•

- [ ] Chromeï¼ˆæ¡Œé¢/ç§»åŠ¨ï¼‰
- [ ] Safariï¼ˆæ¡Œé¢/ç§»åŠ¨ï¼‰
- [ ] Firefox
- [ ] Edge

### 13.3 æ€§èƒ½æµ‹è¯•

- [ ] è½®è¯¢ä¸å ç”¨è¿‡å¤šèµ„æº
- [ ] è§†é¢‘åŠ è½½æµç•…
- [ ] å¤§æ–‡æœ¬è¾“å…¥ä¸å¡é¡¿

---

## åå››ã€äº¤ä»˜ç‰©æ¸…å•

1. `frontend/src/App.vue` - Vite + Vue å•é¡µä¸»ç•Œé¢
2. `frontend/src/main.ts` - å…¥å£è„šæœ¬ï¼ŒæŒ‚è½½åº”ç”¨ä¸æ’ä»¶
3. `frontend/src/components/` - ä»»åŠ¡è¡¨å•ã€è½®è¯¢é¢æ¿ç­‰æ¨¡å—åŒ–ç»„ä»¶
4. `frontend/public/config.js` - API é…ç½®ï¼ˆå¤ç”¨ç°æœ‰ï¼‰

---

## é™„å½•ï¼šå®Œæ•´äº¤äº’æ—¶åºå›¾

```
ç”¨æˆ·                   å‰ç«¯                    åç«¯ API
 â”‚                      â”‚                         â”‚
 â”œâ”€ 1. å¡«å†™è¡¨å• â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
 â”‚                      â”‚                         â”‚
 â”œâ”€ 2. ç‚¹å‡»ç”Ÿæˆ â”€â”€â”€â”€â”€â”€â”€â”€>â”‚                         â”‚
 â”‚                      â”œâ”€ 3. POST /api/tasks â”€â”€>â”‚
 â”‚                      â”‚<â”€ 4. {job_id} â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
 â”‚                      â”‚                         â”‚
 â”‚                      â”œâ”€ 5. å¼€å§‹è½®è¯¢ (æ¯2ç§’)    â”‚
 â”‚                      â”œâ”€ GET /api/tasks/{id}â”€â”€>â”‚
 â”‚<â”€ æ˜¾ç¤º"å¤´åƒç”Ÿæˆä¸­" â”€â”€â”¤<â”€ {status: avatar} â”€â”€â”€â”€â”¤
 â”‚                      â”‚                         â”‚
 â”‚                      â”œâ”€ GET /api/tasks/{id}â”€â”€>â”‚
 â”‚<â”€ æ˜¾ç¤º"è¯­éŸ³ç”Ÿæˆä¸­" â”€â”€â”¤<â”€ {status: speech} â”€â”€â”€â”€â”¤
 â”‚                      â”‚                         â”‚
 â”‚                      â”œâ”€ GET /api/tasks/{id}â”€â”€>â”‚
 â”‚<â”€ æ˜¾ç¤º"è§†é¢‘æ¸²æŸ“ä¸­" â”€â”€â”¤<â”€ {status: video} â”€â”€â”€â”€â”€â”¤
 â”‚                      â”‚                         â”‚
 â”‚                      â”œâ”€ GET /api/tasks/{id}â”€â”€>â”‚
 â”‚<â”€ æ˜¾ç¤ºæ’­æ”¾å™¨ â”€â”€â”€â”€â”€â”€â”€â”€â”¤<â”€ {status: finished} â”€â”€â”¤
 â”‚                      â”‚   {video_url}           â”‚
 â”‚                      â”‚                         â”‚
 â”œâ”€ 3. æ’­æ”¾/ä¸‹è½½è§†é¢‘ â”€â”€>â”‚                         â”‚
 â”‚                      â”‚                         â”‚
```

---

**æ–‡æ¡£çŠ¶æ€**: âœ… å·²å®Œæˆ
**ä¸‹ä¸€æ­¥**: æ ¹æ®æ­¤è®¾è®¡å¼€å§‹å‰ç«¯å¼€å‘ï¼ˆtask-3ï¼‰
**ç›¸å…³æ–‡æ¡£**: `design.md`, `doc/æ•°å­—äºº.md`, `CLAUDE.md`
